(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"2ff9":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-md"},[n("h3",[e._v("Username: "+e._s(e.username))]),n("q-btn",[e._v("\n      Change Username\n      "),n("q-popup-edit",{attrs:{title:"Change username",buttons:""},on:{save:function(t){return e.changeUsername(e.newUsername)}},model:{value:e.newUsername,callback:function(t){e.newUsername=t},expression:"newUsername"}},[n("q-input",{ref:"newUsername",attrs:{dense:"",autofocus:"",counter:""},model:{value:e.newUsername,callback:function(t){e.newUsername=t},expression:"newUsername"}})],1)],1),n("br"),n("q-btn",[e._v("\n      Change password\n      "),n("q-popup-edit",{attrs:{title:"Change password",buttons:""},on:{save:function(t){return e.changePassword(e.newPassword)}},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}},[n("q-input",{ref:"newPassword",attrs:{type:"password",dense:"",autofocus:"",counter:""},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}})],1)],1),n("h5",[e._v("role: "+e._s(e.role))]),n("h5",[e._v("Created At: "+e._s(e.createdAt))]),n("h5",[e._v("Updated At: "+e._s(e.updatedAt))])],1)},s=[],a=n("c973"),o=n.n(a),u=n("ded3"),c=n.n(u),d=n("2f62"),l=n("446a"),i={name:"Profile",data(){return{username:null,userId:null,createdAt:null,updatedAt:null,role:null,newPassword:"",newUsername:""}},computed:c()({},Object(d["b"])(["auth"])),created(){var e=this;return o()((function*(){e.userId=e.auth.userId,yield e.getUser()}))()},methods:{getUser(){var e=this;return o()((function*(){const t=yield l["a"].getUser(e.userId);e.username=t.username,e.createdAt=t.createdAt,e.updatedAt=t.updatedAt,e.role=t.role,console.log(t)}))()},changePassword(e){var t=this;return o()((function*(){let n={password:e};yield l["a"].editUser(n,t.userId),yield t.getUser()}))()},changeUsername(e){var t=this;return o()((function*(){let n={username:e};yield l["a"].editUser(n,t.userId),yield t.getUser()}))()}}},w=i,p=n("2877"),f=n("9c40"),h=n("42a1"),m=n("27f9"),g=n("eebe"),U=n.n(g),v=Object(p["a"])(w,r,s,!1,null,null,null);t["default"]=v.exports;U()(v,"components",{QBtn:f["a"],QPopupEdit:h["a"],QInput:m["a"]})},"446a":function(e,t,n){"use strict";var r=n("c973"),s=n.n(r),a=n("bc3a"),o=n.n(a);const u="/api/users",c={headers:{Authorization:"Bearer "+localStorage.getItem("userToken")}};class d{static countUsers(e){return s()((function*(){try{const t=yield o.a.get(`${u}/count/${e}`,c),n=t.data;return n}catch(t){return console.log(t),t}}))()}static getAllUsers(e,t,n,r,a){return s()((function*(){try{const s=yield o.a.get(`${u}?descending=${e}&skip=${t}&limit=${n}&sortBy=${r}&filter=${a}`,c),d=s.data;return d}catch(s){return console.log(s),s}}))()}static getUser(e){return s()((function*(){try{const t=yield o.a.get(`${u}/${e}`,c),n=t.data;return n}catch(t){return console.log(t),t}}))()}static createUser(e){return s()((function*(){try{const t=yield o.a.post(""+u,e,c),n=t.data;return n}catch(t){return console.log(t),!1}}))()}static editUser(e,t){return s()((function*(){try{const n=yield o.a.patch(`${u}/${t}`,e,c),r=n.data;return r}catch(n){return console.log(n),!1}}))()}static deleteUser(e){return s()((function*(){try{const t=yield o.a.delete(`${u}/${e}`,c),n=t.data;return n}catch(t){return console.log(t),!1}}))()}static addMember(e,t){var n=this;return s()((function*(){try{n.getUser()}catch(e){return console.log(e),!1}}))()}}t["a"]=d}}]);