(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"2c7e":function(t,e,n){"use strict";var r=n("c973"),o=n.n(r),a=n("bc3a"),i=n.n(a);const s="/api/todoLists",l={headers:{Authorization:"Bearer "+localStorage.getItem("userToken")}};class d{static getTodoListTodos(t,e,n,r,a,d){return o()((function*(){try{const o=yield i.a.get(`${s}/${t}/todos?descending=${e}&skip=${n}&limit=${r}&sortBy=${a}&filter=${d}`,l),c=o.data;return c}catch(o){return console.log(o),o}}))()}static getTodoLists(){return o()((function*(){try{const t=yield i.a.get(""+s,l),e=t.data;return e}catch(t){return console.log(t),t}}))()}static createTodoList(t){return o()((function*(){try{const e=yield i.a.post(""+s,t,l),n=e.data;return n}catch(e){return console.log(e),!1}}))()}static updateTodoList(t,e){return o()((function*(){try{const n=yield i.a.patch(`${s}/${e}`,t,l),r=n.data;return r}catch(n){return console.log(n),!1}}))()}static deleteTodoList(t){return o()((function*(){try{const e=yield i.a.delete(`${s}/${t}`,l),n=e.data;return n}catch(e){return console.log(e),!1}}))()}}e["a"]=d},"446a":function(t,e,n){"use strict";var r=n("c973"),o=n.n(r),a=n("bc3a"),i=n.n(a);const s="/api/users",l={headers:{Authorization:"Bearer "+localStorage.getItem("userToken")}};class d{static countUsers(t){return o()((function*(){try{const e=yield i.a.get(`${s}/count/${t}`,l),n=e.data;return n}catch(e){return console.log(e),e}}))()}static getAllUsers(t,e,n,r,a){return o()((function*(){try{const o=yield i.a.get(`${s}?descending=${t}&skip=${e}&limit=${n}&sortBy=${r}&filter=${a}`,l),d=o.data;return d}catch(o){return console.log(o),o}}))()}static getUser(t){return o()((function*(){try{const e=yield i.a.get(`${s}/${t}`,l),n=e.data;return n}catch(e){return console.log(e),e}}))()}static createUser(t){return o()((function*(){try{const e=yield i.a.post(""+s,t,l),n=e.data;return n}catch(e){return console.log(e),!1}}))()}static editUser(t,e){return o()((function*(){try{const n=yield i.a.patch(`${s}/${e}`,t,l),r=n.data;return r}catch(n){return console.log(n),!1}}))()}static deleteUser(t){return o()((function*(){try{const e=yield i.a.delete(`${s}/${t}`,l),n=e.data;return n}catch(e){return console.log(e),!1}}))()}static addMember(t,e){var n=this;return o()((function*(){try{n.getUser()}catch(t){return console.log(t),!1}}))()}}e["a"]=d},e964:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q-pa-md"},[n("q-table",{attrs:{title:"Users",data:t.users,columns:t.columns,"row-key":"_id","binary-state-sort":"",loading:t.loading,filter:t.filter},on:{request:t.onRequest},scopedSlots:t._u([{key:"top-right",fn:function(){return[n("q-input",{attrs:{dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"top-left",fn:function(){return[n("div",{staticClass:"q-table__title"},[t._v("Todo Lists")]),n("q-form",{on:{submit:t.addTodoList}},[n("h5",{staticClass:"q-mb-sm"},[t._v("Add todo list")]),n("q-input",{ref:"addTitle",attrs:{dense:"",outlined:"",debounce:"300",label:"Title","lazy-rules":"ondemand",rules:[t.createRules]},model:{value:t.addTitle,callback:function(e){t.addTitle=e},expression:"addTitle"}}),n("q-btn",{attrs:{dense:"",type:"submit"}},[t._v("Add Todo List")])],1)]},proxy:!0},{key:"header",fn:function(e){return[n("q-tr",{attrs:{props:e}},t._l(e.cols,(function(r){return n("q-th",{key:r.name,attrs:{props:e}},[t._v("\n          "+t._s(r.label)+"\n        ")])})),1)]}},{key:"body",fn:function(e){return[n("q-tr",{attrs:{props:e}},[n("q-td",[n("q-btn",{attrs:{to:"/todo-list/"+e.row._id}},[t._v("Todos")])],1),n("q-td",{key:"title",attrs:{props:e}},[t._v("\n          "+t._s(e.row.title)+"\n          "),n("q-popup-edit",{attrs:{title:"Update Title",buttons:""},on:{save:function(n){return t.updateTodoList(e.row._id,e.row.title)}},model:{value:e.row.title,callback:function(n){t.$set(e.row,"title",n)},expression:"props.row.title"}},[n("q-input",{attrs:{dense:"",autofocus:"",counter:""},model:{value:e.row.title,callback:function(n){t.$set(e.row,"title",n)},expression:"props.row.title"}})],1)],1),n("q-td",{key:"createdAt",attrs:{props:e}},[n("div",{staticClass:"text-pre-wrap"},[t._v("\n            "+t._s(new Date(e.row.createdAt).toLocaleTimeString())+"\n          ")])]),n("q-td",{key:"updatedAt",attrs:{props:e}},[t._v("\n          "+t._s(new Date(e.row.updatedAt).toLocaleTimeString())+"\n        ")]),n("q-td",{key:"delete",attrs:{props:e}},[n("q-btn",{attrs:{round:"",color:"negative",icon:"delete"},on:{click:function(n){return t.deleteTodoList(e.row._id)}}})],1)],1)]}}])})],1)},o=[],a=(n("a434"),n("e6cf"),n("ddb0"),n("c973")),i=n.n(a),s=(n("446a"),n("2c7e")),l={data(){return{addTitle:"",addPassword:"",newPassword:"",newTitle:"",filter:"",loading:!1,pagination:{sortBy:"desc",descending:!1,page:1,rowsPerPage:5,rowsNumber:0},users:[],selected:[],columns:[{name:"seeTodos",label:"See todos",field:"seeTodos",align:"left"},{name:"title",required:!0,label:"Title",align:"left",field:t=>t.name,format:t=>""+t,sortable:!0},{name:"createdAt",label:"CreatedAt",field:"createdAt",sortable:!0,style:"width: 10px"},{name:"updatedAt",label:"UpdatedAt",field:"updatedAt",sortable:!0},{name:"delete",label:"Delete",field:"delete"}]}},methods:{onRequest(t){var e=this;return i()((function*(){const{page:n,rowsPerPage:r,sortBy:o,descending:a}=t.pagination,i=t.filter;e.loading=!0;const s=0===r?e.pagination.rowsNumber:r,l=yield e.fetchFromServer(a,n,s,o,i);e.pagination.rowsNumber=l.count;const d=l.data;e.users.splice(0,e.users.length,...d),e.pagination.page=n,e.pagination.rowsPerPage=r,e.pagination.sortBy=o,e.pagination.descending=a,e.loading=!1}))()},fetchFromServer(t,e,n,r,o){return i()((function*(){let a=0;return a=(e-1)*n,yield s["a"].getTodoLists(t,a,n,r,o)}))()},deleteTodoList(t){var e=this;return i()((function*(){yield s["a"].deleteTodoList(t),yield e.onRequest({pagination:e.pagination,filter:e.filter})}))()},updateTodoList(t,e){var n=this;return i()((function*(){let r={title:e};return yield s["a"].updateTodoList(r,t),yield n.onRequest({pagination:n.pagination,filter:n.filter}),!0}))()},addTodoList(){var t=this;return i()((function*(){let e=yield t.createRules(t.newTitle);if(e){let e={title:t.addTitle};yield s["a"].createTodoList(e),t.addTitle="",t.$refs.addTitle.blur(),t.$refs.addTitle.resetValidation(),yield t.onRequest({pagination:t.pagination,filter:t.filter})}}))()},createRules(t){return i()((function*(){return new Promise((e,n)=>{e(!!t||"Please type something")})}))()}},mounted(){this.onRequest({pagination:this.pagination,filter:this.filter})}},d=l,c=n("2877"),u=n("eaac"),p=n("27f9"),f=n("0016"),g=n("0378"),y=n("9c40"),T=n("bd08"),b=n("357e"),h=n("db86"),m=n("42a1"),w=n("eebe"),$=n.n(w),q=Object(c["a"])(d,r,o,!1,null,null,null);e["default"]=q.exports;$()(q,"components",{QTable:u["a"],QInput:p["a"],QIcon:f["a"],QForm:g["a"],QBtn:y["a"],QTr:T["a"],QTh:b["a"],QTd:h["a"],QPopupEdit:m["a"]})}}]);